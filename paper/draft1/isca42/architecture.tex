\section{Microarchitecture}
\label{sec:uarch}

\begin{figure*}
	\centering
	\includegraphics[width=\textwidth]{fig/pipeline.pdf} 
	\caption{Basicblock execution pipeline}
	\label{fig:pipeline}
\end{figure*}

\begin{figure}
	\centering
	\includegraphics[width=1.0\columnwidth]{fig/bb_architecture.pdf} 
	\caption{Basicblock execution microarchitecture}
	\label{fig:bb_arch}
\end{figure}

Coarse grain execution exposes energy saving opportunities in most pipeline
stages. In this section we discuss the flow of basicblocks through different
pipeline stages and elaborate on how energy is saved in each stage.

Figure~\ref{fig:bb_arch} and~\ref{fig:pipeline} show the basic-block execution
flow through the BBE pipeline and the BBE micro-architecture. The hardware units
distinguishing BBE from OoO are the Basic-block Windows (BB Window), Local Register
File (LRF), Basic-block Re-order Buffer (BB-ROB), the Register Rename bypass
line, basic-block scheduler, and the branch Prediction lookup line coming 
from the BB Scheduler rather than instruction fetch.

\input{cpu_frontend}

\input{cpu_backend}

\input{speculation}

%provide an example of the execution here.  it should contain a code with
%multiple BB's with local/global registers, header ins.  It should show flow of
%BB in a 2-wide machine. provide execution schedule, update and issue register
%activity. instruction issue logic information.

%TODO discuss how large basicblocks are partitioned.
%TODO Talk about exception handling here.
%\input{scheduling}
%discussion on ISA changes
