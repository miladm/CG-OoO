\hypertarget{classHybridBP}{
\section{HybridBP Class Reference}
\label{classHybridBP}\index{HybridBP@{HybridBP}}
}


{\ttfamily \#include $<$hybrid.h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bfseries BPHistory}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classHybridBP_a7c16ca06091c02d049ec629439adc861}{HybridBP} (unsigned localPredictorSize, unsigned localCtrBits, unsigned globalPredictorSize, unsigned globalHistoryBits, unsigned globalCtrBits, unsigned choicePredictorSize, unsigned choiceCtrBits, unsigned instShiftAmt, unsigned fetchWidth)
\item 
unsigned \hyperlink{classHybridBP_a3775bffe64cdade937a9f92746c21ce0}{computeLocalIndex} (Addr branch\_\-addr, unsigned positionInFetchGroup)
\item 
unsigned \hyperlink{classHybridBP_a04bce6884d86fea1130106447ce996a6}{computeGlobalIndex} (Addr branch\_\-addr, unsigned positionInFetchGroup)
\item 
unsigned \hyperlink{classHybridBP_a198dcbee6554ca9471fba00734e31319}{computeChoiceIndex} (Addr branch\_\-addr, unsigned positionInFetchGroup)
\item 
bool \hyperlink{classHybridBP_a6aef367656e0d8c3b964bfb4e69858fa}{lookup} (Addr \&branch\_\-addr, void $\ast$\&bp\_\-history, unsigned positionInFetchGroup, bool onDemand, bool \&choice)
\item 
void \hyperlink{classHybridBP_a298bbbcf380b81292e158a5d880073d4}{uncondBr} (void $\ast$\&bp\_\-history)
\item 
void \hyperlink{classHybridBP_aa54c3620546c026eb4d593007adc5baf}{onDemandBr} (Addr \&branch\_\-addr, void $\ast$\&bp\_\-history, unsigned positionInFetchGroup)
\item 
void \hyperlink{classHybridBP_a89edda03644e8f68ff703b4452569186}{BTBUpdate} (Addr \&branch\_\-addr, void $\ast$\&bp\_\-history)
\item 
void \hyperlink{classHybridBP_a61c2bdd85d221b11539524613e2f4ca5}{update} (Addr \&branch\_\-addr, bool taken, void $\ast$bp\_\-history, bool squashed)
\item 
void \hyperlink{classHybridBP_a057bdd611cf2f46e8465df5376a72efb}{histUpdate} (Addr \&branch\_\-addr, bool taken, void $\ast$bp\_\-history, bool squashed)
\item 
void \hyperlink{classHybridBP_a42988126b43e89e1ec5fb5a1985a0a36}{histGarbageCollect} (void $\ast$bp\_\-history)
\item 
void \hyperlink{classHybridBP_aa69f90a513749a5ef74eb9e1bc2582a5}{squash} (void $\ast$bp\_\-history)
\item 
unsigned \hyperlink{classHybridBP_a9e592ec11566122ebd7f13a6e2b7c422}{readGlobalHist} ()
\item 
void \hyperlink{classHybridBP_a19172b0c80d04265cb00f249bbf5eecd}{updateGlobalHistTaken} ()
\item 
void \hyperlink{classHybridBP_aa5cd12f887d1f51947dc37cdad283124}{updateGlobalHistNotTaken} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implements a tournament branch predictor, hopefully identical to the one used in the 21264. It has a local predictor, which uses a local history table to index into a table of counters, and a global predictor, which uses a global history to index into a table of counters. A choice predictor chooses between the two. Only the global history register is speculatively updated, the rest are updated upon branches committing or misspeculating. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classHybridBP_a7c16ca06091c02d049ec629439adc861}{
\index{HybridBP@{HybridBP}!HybridBP@{HybridBP}}
\index{HybridBP@{HybridBP}!HybridBP@{HybridBP}}
\subsubsection[{HybridBP}]{\setlength{\rightskip}{0pt plus 5cm}HybridBP::HybridBP (
\begin{DoxyParamCaption}
\item[{unsigned}]{localPredictorSize, }
\item[{unsigned}]{localCtrBits, }
\item[{unsigned}]{globalPredictorSize, }
\item[{unsigned}]{globalHistoryBits, }
\item[{unsigned}]{globalCtrBits, }
\item[{unsigned}]{choicePredictorSize, }
\item[{unsigned}]{choiceCtrBits, }
\item[{unsigned}]{instShiftAmt, }
\item[{unsigned}]{fetchWidth}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a7c16ca06091c02d049ec629439adc861}
Default branch predictor constructor. 
\begin{DoxyCode}
    : localPredictorSize(_localPredictorSize),
      localCtrBits(_localCtrBits),
      globalPredictorSize(_globalPredictorSize),
      globalCtrBits(_globalCtrBits),
      globalHistoryBits(_globalHistoryBits),
      choicePredictorSize(_globalPredictorSize),
      choiceCtrBits(_choiceCtrBits),
      instShiftAmt(_instShiftAmt),
      fetchWidth(_fetchWidth)
{
    if (!isPowerOf2(localPredictorSize)) {
        fatal("Invalid local predictor size!\n");
    }

    //Setup the array of counters for the local predictor
    localCtrs.resize(localPredictorSize);

    for (int i = 0; i < localPredictorSize; ++i)
        localCtrs[i].setBits(localCtrBits);

    //localPredictorMask = floorPow2(localPredictorSize) - 1;

    if (!isPowerOf2(globalPredictorSize)) {
        fatal("Invalid global predictor size!\n");
    }

    //Setup the array of counters for the global predictor
    globalCtrs.resize(globalPredictorSize);

    for (int i = 0; i < globalPredictorSize; ++i)
        globalCtrs[i].setBits(globalCtrBits);

    //Clear the global history
    globalHistory = 0;
    // Setup the global history mask
    globalHistoryMask = (1 << globalHistoryBits) - 1;

    if (!isPowerOf2(choicePredictorSize)) {
        fatal("Invalid choice predictor size!\n");
    }

    //Setup the array of counters for the choice predictor
    choiceCtrs.resize(choicePredictorSize);

    for (int i = 0; i < choicePredictorSize; ++i)
        choiceCtrs[i].setBits(choiceCtrBits);

    // @todo: Allow for different thresholds between the predictors.
    threshold = (1 << (localCtrBits - 1)) - 1;

        //Shift amount is dependent on the fetch width and the instruction size i
      n bytes
        totalInstShiftAmt = instShiftAmt + (unsigned)log2(fetchWidth);
}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classHybridBP_a89edda03644e8f68ff703b4452569186}{
\index{HybridBP@{HybridBP}!BTBUpdate@{BTBUpdate}}
\index{BTBUpdate@{BTBUpdate}!HybridBP@{HybridBP}}
\subsubsection[{BTBUpdate}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::BTBUpdate (
\begin{DoxyParamCaption}
\item[{Addr \&}]{branch\_\-addr, }
\item[{void $\ast$\&}]{bp\_\-history}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a89edda03644e8f68ff703b4452569186}
Updates the branch predictor to Not Taken if a BTB entry is invalid or not found. 
\begin{DoxyParams}{Parameters}
{\em branch\_\-addr} & The address of the branch to look up. \\
\hline
{\em bp\_\-history} & Pointer to any bp history state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether or not the branch is taken. 
\end{DoxyReturn}

\begin{DoxyCode}
{
    //Update Global History to Not Taken
    globalHistory = globalHistory & (globalHistoryMask - 1);
}
\end{DoxyCode}
\hypertarget{classHybridBP_a198dcbee6554ca9471fba00734e31319}{
\index{HybridBP@{HybridBP}!computeChoiceIndex@{computeChoiceIndex}}
\index{computeChoiceIndex@{computeChoiceIndex}!HybridBP@{HybridBP}}
\subsubsection[{computeChoiceIndex}]{\setlength{\rightskip}{0pt plus 5cm}unsigned HybridBP::computeChoiceIndex (
\begin{DoxyParamCaption}
\item[{Addr}]{branch\_\-addr, }
\item[{unsigned}]{positionInFetchGroup}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a198dcbee6554ca9471fba00734e31319}
this unit computes the address index to the BP based on the EV8 predictor Milad 
\begin{DoxyCode}
{
        //return (branch_addr>>2) & (choicePredictorSize-1);
        unsigned indx = (((branch_addr>>totalInstShiftAmt)<<instShiftAmt)+(Addr)p
      ositionInFetchGroup) & (choicePredictorSize-1);
        assert(indx < choicePredictorSize);
        return indx;
}
\end{DoxyCode}
\hypertarget{classHybridBP_a04bce6884d86fea1130106447ce996a6}{
\index{HybridBP@{HybridBP}!computeGlobalIndex@{computeGlobalIndex}}
\index{computeGlobalIndex@{computeGlobalIndex}!HybridBP@{HybridBP}}
\subsubsection[{computeGlobalIndex}]{\setlength{\rightskip}{0pt plus 5cm}unsigned HybridBP::computeGlobalIndex (
\begin{DoxyParamCaption}
\item[{Addr}]{branch\_\-addr, }
\item[{unsigned}]{positionInFetchGroup}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a04bce6884d86fea1130106447ce996a6}
this unit computes the address index to the BP based on the EV8 predictor Milad 
\begin{DoxyCode}
{
        unsigned indx = ((((branch_addr>>totalInstShiftAmt)^globalHistory)<<instS
      hiftAmt)+(Addr)positionInFetchGroup) & (globalPredictorSize-1);
        assert(indx < globalPredictorSize);
        return indx;
}
\end{DoxyCode}
\hypertarget{classHybridBP_a3775bffe64cdade937a9f92746c21ce0}{
\index{HybridBP@{HybridBP}!computeLocalIndex@{computeLocalIndex}}
\index{computeLocalIndex@{computeLocalIndex}!HybridBP@{HybridBP}}
\subsubsection[{computeLocalIndex}]{\setlength{\rightskip}{0pt plus 5cm}unsigned HybridBP::computeLocalIndex (
\begin{DoxyParamCaption}
\item[{Addr}]{branch\_\-addr, }
\item[{unsigned}]{positionInFetchGroup}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a3775bffe64cdade937a9f92746c21ce0}
this unit computes the address index to the BP based on the EV8 predictor Milad 
\begin{DoxyCode}
{
        //return (branch_addr>>2) & (localPredictorSize-1);
        unsigned indx = (((branch_addr>>totalInstShiftAmt)<<instShiftAmt)+(Addr)p
      ositionInFetchGroup) & (localPredictorSize-1);
        assert(indx < localPredictorSize);
        return indx;
}
\end{DoxyCode}
\hypertarget{classHybridBP_a42988126b43e89e1ec5fb5a1985a0a36}{
\index{HybridBP@{HybridBP}!histGarbageCollect@{histGarbageCollect}}
\index{histGarbageCollect@{histGarbageCollect}!HybridBP@{HybridBP}}
\subsubsection[{histGarbageCollect}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::histGarbageCollect (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{bp\_\-history}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a42988126b43e89e1ec5fb5a1985a0a36}

\begin{DoxyCode}
{
    if (bp_history) {
       BPHistory *history = static_cast<BPHistory *>(bp_history);
       // We're done with this history, now delete it.
       delete history;
    }
}
\end{DoxyCode}
\hypertarget{classHybridBP_a057bdd611cf2f46e8465df5376a72efb}{
\index{HybridBP@{HybridBP}!histUpdate@{histUpdate}}
\index{histUpdate@{histUpdate}!HybridBP@{HybridBP}}
\subsubsection[{histUpdate}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::histUpdate (
\begin{DoxyParamCaption}
\item[{Addr \&}]{branch\_\-addr, }
\item[{bool}]{taken, }
\item[{void $\ast$}]{bp\_\-history, }
\item[{bool}]{squashed}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a057bdd611cf2f46e8465df5376a72efb}

\begin{DoxyCode}
{
    if (bp_history) {
       BPHistory *history = static_cast<BPHistory *>(bp_history);
                if (squashed) {
                        if (taken) {
                                globalHistory = (history->globalHistory << 1) | 1
      ;
                                globalHistory = globalHistory & globalHistoryMask
      ;
                        } else {
                                globalHistory = (history->globalHistory << 1);
                                globalHistory = globalHistory & globalHistoryMask
      ;
                        }
                }
       // We're done with this history, now delete it.
       delete history;
    }
}
\end{DoxyCode}
\hypertarget{classHybridBP_a6aef367656e0d8c3b964bfb4e69858fa}{
\index{HybridBP@{HybridBP}!lookup@{lookup}}
\index{lookup@{lookup}!HybridBP@{HybridBP}}
\subsubsection[{lookup}]{\setlength{\rightskip}{0pt plus 5cm}bool HybridBP::lookup (
\begin{DoxyParamCaption}
\item[{Addr \&}]{branch\_\-addr, }
\item[{void $\ast$\&}]{bp\_\-history, }
\item[{unsigned}]{positionInFetchGroup, }
\item[{bool}]{onDemand, }
\item[{bool \&}]{choice}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a6aef367656e0d8c3b964bfb4e69858fa}
Looks up the given address in the branch predictor and returns a true/false value as to whether it is taken. Also creates a BPHistory object to store any state it will need on squash/update. 
\begin{DoxyParams}{Parameters}
{\em branch\_\-addr} & The address of the branch to look up. \\
\hline
{\em bp\_\-history} & Pointer that will be set to the BPHistory object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether or not the branch is taken. 
\end{DoxyReturn}

\begin{DoxyCode}
{
    bool local_prediction;
    unsigned local_predictor_idx;
    unsigned global_predictor_idx;
    unsigned choice_predictor_idx;

    bool global_prediction;
    bool choice_prediction;

    //Lookup in the local predictor to get its branch prediction
    local_predictor_idx = computeLocalIndex(branch_addr, positionInFetchGroup);
    local_prediction = localCtrs[local_predictor_idx].read() > threshold;

    //Lookup in the global predictor to get its branch prediction
    global_predictor_idx = globalHistory; //computeGlobalIndex(branch_addr, posit
      ionInFetchGroup);
    global_prediction = globalCtrs[global_predictor_idx].read() > threshold;

    //Lookup in the choice predictor to see which one to use
    choice_predictor_idx = computeChoiceIndex(branch_addr, positionInFetchGroup);
      
    choice_prediction = choiceCtrs[choice_predictor_idx].read() > threshold;

    // Create BPHistory and pass it back to be recorded.
    BPHistory *history = new BPHistory;
    history->globalPredictorIdx = global_predictor_idx;
    history->choicePredictorIdx = choice_predictor_idx;
    history->localPredictorIdx  = local_predictor_idx;
    history->globalHistory = globalHistory;
    history->localPredTaken = local_prediction;
    history->globalPredTaken = global_prediction;
    history->globalUsed = choice_prediction;
    bp_history = (void *)history;

    assert(globalHistory < globalPredictorSize);
    assert(positionInFetchGroup >= 0);
    assert(positionInFetchGroup < fetchWidth);
    assert(local_predictor_idx < localPredictorSize);

    // Commented code is for doing speculative update of counters and
    // all histories.
        bool prediction;
    if (choice_prediction) {
        if (global_prediction) {
                        updateGlobalHistTaken();
                        prediction = true;
        } else {
                        updateGlobalHistNotTaken();
                        prediction = false;
        }
    } else {
        if (local_prediction) {
                        updateGlobalHistTaken();
                        prediction = true;
        } else {
                        updateGlobalHistNotTaken();
                        prediction = false;
        }
    }
  //Addr tempPC = ((branch_addr>>totalInstShiftAmt)<<totalInstShiftAmt)+((Addr)po
      w(instShiftAmt,2))*(fetchWidth-1); //Create the addr of last ins in cacheline
  //if (prediction == true) { //TAKEN
  //    updateGlobalHistTaken();
  //} else if (branch_addr == tempPC && prediction == false) {
  //    updateGlobalHistNotTaken();
  //}
    /* testing if local predictor functions right */
        choice = choice_prediction;
    return prediction;
}
\end{DoxyCode}
\hypertarget{classHybridBP_aa54c3620546c026eb4d593007adc5baf}{
\index{HybridBP@{HybridBP}!onDemandBr@{onDemandBr}}
\index{onDemandBr@{onDemandBr}!HybridBP@{HybridBP}}
\subsubsection[{onDemandBr}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::onDemandBr (
\begin{DoxyParamCaption}
\item[{Addr \&}]{branch\_\-addr, }
\item[{void $\ast$\&}]{bp\_\-history, }
\item[{unsigned}]{positionInFetchGroup}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_aa54c3620546c026eb4d593007adc5baf}

\begin{DoxyCode}
{
  // Create BPHistory and pass it back to be recorded.
  BPHistory *history = new BPHistory;
  history->globalHistory = globalHistory;
  history->choicePredictorIdx = invalidPredictorIndex; //computeChoiceIndex(branc
      h_addr, positionInFetchGroup);
  history->globalPredictorIdx = invalidPredictorIndex; //computeGlobalIndex(branc
      h_addr, positionInFetchGroup);
  history->localPredictorIdx  = invalidPredictorIndex; //computeLocalIndex(branch
      _addr, positionInFetchGroup);
  bp_history = static_cast<void *>(history);
}
\end{DoxyCode}
\hypertarget{classHybridBP_a9e592ec11566122ebd7f13a6e2b7c422}{
\index{HybridBP@{HybridBP}!readGlobalHist@{readGlobalHist}}
\index{readGlobalHist@{readGlobalHist}!HybridBP@{HybridBP}}
\subsubsection[{readGlobalHist}]{\setlength{\rightskip}{0pt plus 5cm}unsigned HybridBP::readGlobalHist (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{classHybridBP_a9e592ec11566122ebd7f13a6e2b7c422}
Returns the global history. 
\begin{DoxyCode}
{ return globalHistory; }
\end{DoxyCode}
\hypertarget{classHybridBP_aa69f90a513749a5ef74eb9e1bc2582a5}{
\index{HybridBP@{HybridBP}!squash@{squash}}
\index{squash@{squash}!HybridBP@{HybridBP}}
\subsubsection[{squash}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::squash (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{bp\_\-history}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_aa69f90a513749a5ef74eb9e1bc2582a5}
Restores the global branch history on a squash. 
\begin{DoxyParams}{Parameters}
{\em bp\_\-history} & Pointer to the BPHistory object that has the previous global branch history in it. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
    BPHistory *history = static_cast<BPHistory *>(bp_history);

    // Restore global history to state prior to this branch.
    globalHistory = history->globalHistory;

    // Delete this BPHistory now that we're done with it.
    delete history;
}
\end{DoxyCode}
\hypertarget{classHybridBP_a298bbbcf380b81292e158a5d880073d4}{
\index{HybridBP@{HybridBP}!uncondBr@{uncondBr}}
\index{uncondBr@{uncondBr}!HybridBP@{HybridBP}}
\subsubsection[{uncondBr}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::uncondBr (
\begin{DoxyParamCaption}
\item[{void $\ast$\&}]{bp\_\-history}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a298bbbcf380b81292e158a5d880073d4}
Records that there was an unconditional branch, and modifies the bp history to point to an object that has the previous global history stored in it. 
\begin{DoxyParams}{Parameters}
{\em bp\_\-history} & Pointer that will be set to the BPHistory object. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
    // Create BPHistory and pass it back to be recorded.
    BPHistory *history = new BPHistory;
    history->globalHistory = globalHistory;
    history->localPredTaken = true;
    history->globalPredTaken = true;
    history->globalUsed = true;
    history->choicePredictorIdx = invalidPredictorIndex; //computeChoiceIndex(bra
      nch_addr, positionInFetchGroup);
    history->globalPredictorIdx = invalidPredictorIndex; //computeGlobalIndex(bra
      nch_addr, positionInFetchGroup);
    history->localPredictorIdx  = invalidPredictorIndex; //computeLocalIndex(bran
      ch_addr, positionInFetchGroup);
    bp_history = static_cast<void *>(history);

    updateGlobalHistTaken();
}
\end{DoxyCode}
\hypertarget{classHybridBP_a61c2bdd85d221b11539524613e2f4ca5}{
\index{HybridBP@{HybridBP}!update@{update}}
\index{update@{update}!HybridBP@{HybridBP}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::update (
\begin{DoxyParamCaption}
\item[{Addr \&}]{branch\_\-addr, }
\item[{bool}]{taken, }
\item[{void $\ast$}]{bp\_\-history, }
\item[{bool}]{squashed}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a61c2bdd85d221b11539524613e2f4ca5}
Updates the branch predictor with the actual result of a branch. 
\begin{DoxyParams}{Parameters}
{\em branch\_\-addr} & The address of the branch to update. \\
\hline
{\em taken} & Whether or not the branch was taken. \\
\hline
{\em bp\_\-history} & Pointer to the BPHistory object that was created when the branch was predicted. \\
\hline
{\em squashed} & is set when this function is called during a squash operation. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
    // Update the choice predictor to tell it which one was correct if
    // there was a prediction.
    if (bp_history) {
        BPHistory *history = static_cast<BPHistory *>(bp_history);
        // Update may also be called if the Branch target is incorrect even if
        // the prediction is correct. In that case do not update the counters.
        bool historyPred = false;
        if (history->globalUsed) {
           historyPred = history->globalPredTaken;
        } else {
           historyPred = history->localPredTaken;
        }
        if (historyPred != taken || !squashed) {
            // Update the choice predictor to tell it which one was correct if
            // there was a prediction.
                        if (history->localPredTaken != history->globalPredTaken) 
      {
                            // If the local prediction matches the actual outcome
      ,
                            // decerement the counter.  Otherwise increment the
                            // counter.
                            if (history->localPredTaken == taken && history->choi
      cePredictorIdx != invalidPredictorIndex) {
                                choiceCtrs[history->choicePredictorIdx].decrement
      ();
                            } else if (history->globalPredTaken == taken && histo
      ry->choicePredictorIdx != invalidPredictorIndex) {
                                choiceCtrs[history->choicePredictorIdx].increment
      ();
                            }
                        }
                        
                        // Update the counters and local history with the proper
                        // resolution of the branch.  Global history is updated
                        // speculatively and restored upon squash() calls, so it 
      does not
                        // need to be updated.
                        if (taken) {
                                if (history->globalPredictorIdx != invalidPredict
      orIndex) {
                                        globalCtrs[history->globalPredictorIdx].i
      ncrement();
                                }
                                if (history->localPredictorIdx != invalidPredicto
      rIndex) {
                                        localCtrs[history->localPredictorIdx].inc
      rement();
                                }
                        } else {
                                if (history->globalPredictorIdx != invalidPredict
      orIndex) {
                                        globalCtrs[history->globalPredictorIdx].d
      ecrement();
                                }
                                if (history->localPredictorIdx != invalidPredicto
      rIndex) {
                               localCtrs[history->localPredictorIdx].decrement();
      
                                }
                        }
                        assert(history->globalPredictorIdx < globalPredictorSize 
      &&
                               history->localPredictorIdx < localPredictorSize);
                }
    }
}
\end{DoxyCode}
\hypertarget{classHybridBP_aa5cd12f887d1f51947dc37cdad283124}{
\index{HybridBP@{HybridBP}!updateGlobalHistNotTaken@{updateGlobalHistNotTaken}}
\index{updateGlobalHistNotTaken@{updateGlobalHistNotTaken}!HybridBP@{HybridBP}}
\subsubsection[{updateGlobalHistNotTaken}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::updateGlobalHistNotTaken (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_aa5cd12f887d1f51947dc37cdad283124}
Updates global history as not taken. 
\begin{DoxyCode}
{
    globalHistory = (globalHistory << 1);
    globalHistory = globalHistory & globalHistoryMask;
}
\end{DoxyCode}
\hypertarget{classHybridBP_a19172b0c80d04265cb00f249bbf5eecd}{
\index{HybridBP@{HybridBP}!updateGlobalHistTaken@{updateGlobalHistTaken}}
\index{updateGlobalHistTaken@{updateGlobalHistTaken}!HybridBP@{HybridBP}}
\subsubsection[{updateGlobalHistTaken}]{\setlength{\rightskip}{0pt plus 5cm}void HybridBP::updateGlobalHistTaken (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classHybridBP_a19172b0c80d04265cb00f249bbf5eecd}
Updates global history as taken. 
\begin{DoxyCode}
{
    globalHistory = (globalHistory << 1) | 1;
    globalHistory = globalHistory & globalHistoryMask;
}
\end{DoxyCode}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/home/milad/esc\_\-project/svn/PARS/src/forLater/pred/\hyperlink{hybrid_8h}{hybrid.h}\item 
/home/milad/esc\_\-project/svn/PARS/src/forLater/pred/\hyperlink{hybrid_8cpp}{hybrid.cpp}\end{DoxyCompactItemize}
