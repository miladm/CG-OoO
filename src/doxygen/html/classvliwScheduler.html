<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PhArS: vliwScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PhArS&#160;<span id="projectnumber">1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">vliwScheduler Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="vliwScheduler" -->
<p><code>#include &lt;<a class="el" href="vliwScheduler_8h_source.html">vliwScheduler.h</a>&gt;</code></p>

<p><a href="classvliwScheduler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a99727364e47615fde6a54426b135df7a">vliwScheduler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a845a2546d4f6eccf05a853c3f56f30d6">~vliwScheduler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#afa9961197e83bf8ac47cc7f15232b70c">findMostCritIns</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *list, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a29a8e438bea013f48b2cc7b3e672dfe6">scheduleIns</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *inList, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *outList, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting, long int <a class="el" href="bkEnd_8cpp.html#a3709ef01c299a1b84a1b023b9a44d4bc">phraseID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a6b42ca4f7436dc7dfac2848dabc10416">scheduleIns_1FU</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *inList, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *outList, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting, long int <a class="el" href="bkEnd_8cpp.html#a3709ef01c299a1b84a1b023b9a44d4bc">phraseID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a0c1dd56c752aee739de1aa373fc16078">scheduleInsStream</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *inList, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting, FILE *<a class="el" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>, float <a class="el" href="binaryTranslator_2dot_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#aab01a955d85779eeeddb36cf921e8e80">scheduleInsStream_1FU</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *inList, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting, FILE *<a class="el" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#aa7078d3900e7edcb82304e988339d33a">sortLists</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *rootALUins, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *rootMEMins, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting, long int <a class="el" href="bkEnd_8cpp.html#a3709ef01c299a1b84a1b023b9a44d4bc">phraseID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#aae6254bfac1e348447643a0dec8cbf03">completeIns</a> (int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *list, bool del)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinstruction.html">instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#afd1ec0df4e12e892ef2e1d6cd5a1ad3c">setupNewIns</a> (<a class="el" href="classinstruction.html">instruction</a> *ins, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a9fde0b92fb06b843f278907413661df1">parseIns</a> (int <a class="el" href="bkEnd_8cpp.html#a06a6e046fd7b9a66b03d334b1df5e3ad">ROBsize</a>, <a class="el" href="classparser.html">parser</a> *<a class="el" href="bkEnd_8cpp.html#a9b8e7669bda57879d8abc5234b2f0b19">parse</a>, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#ae3dceea059708a0c576983d42eeeb929">delFromInsMap</a> (<a class="el" href="classinstruction.html">instruction</a> *ins)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a003d398e327890ff6b77d565207f970d">insertToInsMap</a> (<a class="el" href="classinstruction.html">instruction</a> *newIns)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a730c35e836911d4e81eaccea4bee931d">getSizeOfInsMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#adc49e9c2b4208f4bf4fe3d1a465e409b">injectIns</a> (<a class="el" href="classinstruction.html">instruction</a> *ins)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvliwScheduler.html#a5abce2c71dce559d07f8f5de8f04c146">schedulePhraseinsStream</a> (<a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *inList, int <a class="el" href="vliwScheduler_8cpp.html#a1f4871d45089b039d95d3832dd123827">cycle</a>, bool UPLDhoisting, FILE *<a class="el" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>, float <a class="el" href="binaryTranslator_2dot_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>, <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classphrase.html">phrase</a> * &gt; *phList)</td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a99727364e47615fde6a54426b135df7a"></a><!-- doxytag: member="vliwScheduler::vliwScheduler" ref="a99727364e47615fde6a54426b135df7a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vliwScheduler::vliwScheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                             {
        rootALUins = <span class="keyword">new</span> <a class="code" href="classList.html">List&lt;instruction*&gt;</a>;
        rootMEMins = <span class="keyword">new</span> <a class="code" href="classList.html">List&lt;instruction*&gt;</a>;
        outListTemp = <span class="keyword">new</span> <a class="code" href="classList.html">List&lt;instruction*&gt;</a>;
        rootInsIndx = <span class="keyword">new</span> <a class="code" href="classList.html">List&lt;int&gt;</a>;
        rootSize = 0;
        phID = -1;
        tempReg = -100;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a845a2546d4f6eccf05a853c3f56f30d6"></a><!-- doxytag: member="vliwScheduler::~vliwScheduler" ref="a845a2546d4f6eccf05a853c3f56f30d6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vliwScheduler::~vliwScheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                              {
        <span class="keyword">delete</span> rootALUins;
        <span class="keyword">delete</span> rootMEMins;
        <span class="keyword">delete</span> rootInsIndx;
        <span class="keyword">delete</span> outListTemp;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aae6254bfac1e348447643a0dec8cbf03"></a><!-- doxytag: member="vliwScheduler::completeIns" ref="aae6254bfac1e348447643a0dec8cbf03" args="(int cycle, List&lt; instruction * &gt; *list, bool del)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::completeIns </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>del</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                             {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = list-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1; i &gt;= 0; i--) {
                <span class="keywordflow">if</span> ((list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i))-&gt;getStatus() == <a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a> &amp;&amp; 
                    (list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i))-&gt;getCompleteCycle() &lt;= <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) {
                        <span class="comment">//Release dependencies</span>
                        list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;notifyAllBrAncestorsICompleted();
                        list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;notifyAllDepICompleted();
                        list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;delDepTableEntris(<a class="code" href="bkEnd_8cpp.html#ab1dae06b10269a1b683512c8ecb25def">depTables</a>, <a class="code" href="bkEnd_8cpp.html#a617ce1763c0446f48a6d3a158d507f46">coreType</a>, <span class="keyword">true</span>); <span class="comment">//assuming always perfect register renaming (04/24/13)</span>
                        list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;setStatus(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959aef0b13bcf8ce1950bdda75bc1abaa8df">complete</a>, -1, -1); <span class="comment">//TODO double check this line. Is it compatible with the rest of the program?</span>
                        <span class="keywordflow">if</span> (del == <span class="keyword">true</span>) <span class="keyword">delete</span> list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i);
                        list-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(i);
                }
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae3dceea059708a0c576983d42eeeb929"></a><!-- doxytag: member="vliwScheduler::delFromInsMap" ref="ae3dceea059708a0c576983d42eeeb929" args="(instruction *ins)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::delFromInsMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinstruction.html">instruction</a> *&#160;</td>
          <td class="paramname"><em>ins</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                  {
        <span class="keywordflow">if</span> (insMap.count(ins-&gt;<a class="code" href="classinstruction.html#a0856c8a7411c298a51cd8d8d5e2f8b12">getInsID</a>()) == 1) {
                insMap.erase(ins-&gt;<a class="code" href="classinstruction.html#a0856c8a7411c298a51cd8d8d5e2f8b12">getInsID</a>());
        } <span class="keywordflow">else</span> {
                printf(<span class="stringliteral">&quot;\nERROR: Instruction Map Detected an Invalid Conflict\n&quot;</span>);
                exit(-1);
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="afa9961197e83bf8ac47cc7f15232b70c"></a><!-- doxytag: member="vliwScheduler::findMostCritIns" ref="afa9961197e83bf8ac47cc7f15232b70c" args="(List&lt; instruction * &gt; *list, int cycle, bool UPLDhoisting)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::findMostCritIns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                          {
        <span class="keywordflow">if</span> (list-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() == 0) <span class="keywordflow">return</span>;
        <a class="code" href="classinstruction.html">instruction</a>* critIns = list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0);
        <span class="keywordtype">int</span> critIndx = 0;
        <span class="keywordtype">int</span> critPathLen = critIns-&gt;<a class="code" href="classinstruction.html#af85171b971c2f1f691f82501d29f3cdf">findLongestPathDynamicly</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; list-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                <span class="keywordtype">int</span> tempCritPathLen = list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;findLongestPathDynamicly(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
                <span class="keywordflow">if</span> (critPathLen &lt; tempCritPathLen) {
                    critIns = list-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i);
                    critIndx = i;
                    critPathLen = tempCritPathLen;
                }
        }
        list-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(critIndx);
        list-&gt;<a class="code" href="classList.html#a8d86a82c138b259da6fa0d046aed985b">InsertAt</a>(critIns,0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a730c35e836911d4e81eaccea4bee931d"></a><!-- doxytag: member="vliwScheduler::getSizeOfInsMap" ref="a730c35e836911d4e81eaccea4bee931d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vliwScheduler::getSizeOfInsMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                   {
        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) insMap.size();
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc49e9c2b4208f4bf4fe3d1a465e409b"></a><!-- doxytag: member="vliwScheduler::injectIns" ref="adc49e9c2b4208f4bf4fe3d1a465e409b" args="(instruction *ins)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::injectIns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinstruction.html">instruction</a> *&#160;</td>
          <td class="paramname"><em>ins</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                              {
        <a class="code" href="classinstruction.html">instruction</a> *newIns = <a class="code" href="classvliwScheduler.html#afd1ec0df4e12e892ef2e1d6cd5a1ad3c">setupNewIns</a>(ins, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>);
        <span class="keywordflow">if</span> (newIns-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) newIns-&gt;<a class="code" href="classinstruction.html#ae98b3fc0943715a103b91ab8bf272758">goToReadyList</a>(); <span class="comment">//Catch root instructions</span>
        <span class="keywordflow">else</span> <a class="code" href="classvliwScheduler.html#a003d398e327890ff6b77d565207f970d">insertToInsMap</a>(newIns);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a003d398e327890ff6b77d565207f970d"></a><!-- doxytag: member="vliwScheduler::insertToInsMap" ref="a003d398e327890ff6b77d565207f970d" args="(instruction *newIns)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::insertToInsMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinstruction.html">instruction</a> *&#160;</td>
          <td class="paramname"><em>newIns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                      {
        <span class="keywordflow">if</span> (insMap.count(newIns-&gt;<a class="code" href="classinstruction.html#a0856c8a7411c298a51cd8d8d5e2f8b12">getInsID</a>()) == 0) {
                insMap.insert(pair&lt;long int, instruction*&gt;(newIns-&gt;<a class="code" href="classinstruction.html#a0856c8a7411c298a51cd8d8d5e2f8b12">getInsID</a>(),newIns));
        } <span class="keywordflow">else</span> {
                printf(<span class="stringliteral">&quot;\nERROR: Instruction Map Detected an Invalid Conflict\n&quot;</span>);
                exit(-1);
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9fde0b92fb06b843f278907413661df1"></a><!-- doxytag: member="vliwScheduler::parseIns" ref="a9fde0b92fb06b843f278907413661df1" args="(int ROBsize, parser *parse, int cycle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::parseIns </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ROBsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classparser.html">parser</a> *&#160;</td>
          <td class="paramname"><em>parse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                   {
        <span class="keywordflow">if</span> (insMap.size() &lt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="bkEnd_8cpp.html#a06a6e046fd7b9a66b03d334b1df5e3ad">ROBsize</a>) {
                <span class="keywordtype">int</span> diff = <a class="code" href="bkEnd_8cpp.html#a06a6e046fd7b9a66b03d334b1df5e3ad">ROBsize</a> - insMap.size();
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; diff; i++) {
                        <a class="code" href="classinstruction.html">instruction</a> *newIns = <span class="keyword">new</span> <a class="code" href="classinstruction.html">instruction</a>;
                        <span class="keywordflow">if</span> (parse-&gt;<a class="code" href="classparser.html#a6433223120dd1acca009c5c3bdddcf54">parseIns</a>(newIns) == <span class="keyword">false</span>) <span class="keywordflow">break</span>; <span class="comment">//EOF</span>
                        newIns-&gt;<a class="code" href="classinstruction.html#a21509e081fdfd3665c30d1bab3e1fd45">setReadyLists</a>(rootALUins, rootMEMins);
                        newIns-&gt;<a class="code" href="classinstruction.html#ab2079e0fa9269a24ae4597eaaad67918">setVliwScheduler</a>(<span class="keyword">this</span>);
                        <span class="keywordflow">if</span> (newIns-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) newIns-&gt;<a class="code" href="classinstruction.html#ae98b3fc0943715a103b91ab8bf272758">goToReadyList</a>(); <span class="comment">//Catch root instructions</span>
                        <span class="keywordflow">else</span> <a class="code" href="classvliwScheduler.html#a003d398e327890ff6b77d565207f970d">insertToInsMap</a>(newIns);
                        <a class="code" href="bkEnd_8cpp.html#a22c7fe5fbee20c3db9579adc7a36335f">insCount</a>++;
                }
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a29a8e438bea013f48b2cc7b3e672dfe6"></a><!-- doxytag: member="vliwScheduler::scheduleIns" ref="a29a8e438bea013f48b2cc7b3e672dfe6" args="(List&lt; instruction * &gt; *inList, List&lt; instruction * &gt; *outList, int cycle, bool UPLDhoisting, long int phraseID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vliwScheduler::scheduleIns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>inList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>outList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>phraseID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                                                                        {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                <span class="keywordflow">if</span> (inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;isReady(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) {
                        inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;findLongestPath(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting, <a class="code" href="bkEnd_8cpp.html#a3709ef01c299a1b84a1b023b9a44d4bc">phraseID</a>);
                }
        }
        <a class="code" href="backend_2quickSort_8cpp.html#a200d864344f989164a45f0cd735d82e6">quicksortLongestPath</a>(rootALUins,0,rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1,<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
        <span class="keywordflow">while</span> (inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0 || rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0 || rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0 || outListTemp-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0) {
                <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>++;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                        <a class="code" href="classinstruction.html">instruction</a>* ins = inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i);
                        <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) {
                                <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a> || ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a>) {
                                        rootALUins-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ins);
                                        rootInsIndx-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(i);
                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da5c97a00bfd8be44565f64bcad8c179e2">MEM</a>) {
                                        rootMEMins-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ins);
                                        rootInsIndx-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(i);
                                } <span class="keywordflow">else</span> {
                                        printf(<span class="stringliteral">&quot;WARNING: THERE IS A PROBLEM1!\n&quot;</span>);
                                        exit(1);
                                }
                        }
                }
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> = rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> &gt;= 0; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>--) {
                        <span class="keywordtype">int</span> indx = rootInsIndx-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
                        inList-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(indx);
                        rootInsIndx-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
                }
                <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() == 0);
                <span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>=0;
                <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="global_2global_8h.html#a4a4773240b23b3c7219797559cc98925">NUM_MEM_UNIT</a> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                        outList-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                        outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                        rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[0]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                        rootMEMins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                }
                <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="global_2global_8h.html#a5d4d2133e24ac445ed1b4ff8ae82c6bf">NUM_ALU_UNIT</a> &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                        outList-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                        outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#a753d700110906067fd49977b974bf796">FPU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                        }
                        rootALUins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                }
                <a class="code" href="classvliwScheduler.html#aae6254bfac1e348447643a0dec8cbf03">completeIns</a> (<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>,outListTemp,<span class="keyword">false</span>);
        }
        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 1000 || rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 1000)
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">else</span>
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6b42ca4f7436dc7dfac2848dabc10416"></a><!-- doxytag: member="vliwScheduler::scheduleIns_1FU" ref="a6b42ca4f7436dc7dfac2848dabc10416" args="(List&lt; instruction * &gt; *inList, List&lt; instruction * &gt; *outList, int cycle, bool UPLDhoisting, long int phraseID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vliwScheduler::scheduleIns_1FU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>inList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>outList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>phraseID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                                                                            {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                <span class="keywordflow">if</span> (inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;isReady(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) {
                        inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i)-&gt;findLongestPath(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting, <a class="code" href="bkEnd_8cpp.html#a3709ef01c299a1b84a1b023b9a44d4bc">phraseID</a>);
                }
        }
        <a class="code" href="backend_2quickSort_8cpp.html#a200d864344f989164a45f0cd735d82e6">quicksortLongestPath</a>(rootALUins,0,rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1,<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
        <span class="keywordflow">while</span> (inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0 || rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0 || outListTemp-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0) {
                <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>++;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                        <a class="code" href="classinstruction.html">instruction</a>* ins = inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i);
                        <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ins);
                                rootInsIndx-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(i);
                        }
                }
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> = rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> &gt;= 0; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>--) {
                        <span class="keywordtype">int</span> indx = rootInsIndx-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
                        inList-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(indx);
                        rootInsIndx-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
                }
                <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() == 0);
                <span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>=0;
                <span class="keywordflow">for</span> (j = 0; j &lt; 1 &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                        outList-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                        outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da5c97a00bfd8be44565f64bcad8c179e2">MEM</a>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[0]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#a753d700110906067fd49977b974bf796">FPU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                        } <span class="keywordflow">else</span> {
                                <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a> || 
                                       rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a> || 
                                       rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da5c97a00bfd8be44565f64bcad8c179e2">MEM</a>);
                        }
                        rootALUins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                }
                <a class="code" href="classvliwScheduler.html#aae6254bfac1e348447643a0dec8cbf03">completeIns</a> (<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>,outListTemp, <span class="keyword">false</span>);
                <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(outListTemp-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() == 0);
        }
        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 1000)
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">else</span>
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0c1dd56c752aee739de1aa373fc16078"></a><!-- doxytag: member="vliwScheduler::scheduleInsStream" ref="a0c1dd56c752aee739de1aa373fc16078" args="(List&lt; instruction * &gt; *inList, int cycle, bool UPLDhoisting, FILE *reScheduleFile, float unpredMemOpThreshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vliwScheduler::scheduleInsStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>inList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>reScheduleFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>unpredMemOpThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                                                                                {
        <span class="keywordtype">bool</span> foundBR = <span class="keyword">false</span>;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                <a class="code" href="classinstruction.html">instruction</a>* ins = inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i);
                <span class="keywordflow">if</span> (foundBR == <span class="keyword">false</span> &amp;&amp; ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da60a57eed407e7df8eb3bf49f61a042c1">BR</a>) {foundBR = <span class="keyword">true</span>;}
                <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) {
                        <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a> || ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a> || ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da60a57eed407e7df8eb3bf49f61a042c1">BR</a> || ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="global_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da52a9b031766fa116251f70e65a84c01a">ASSIGN</a>) {
                                rootALUins-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ins);
                                rootInsIndx-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(i);
                                <span class="comment">//Inject new instructions</span>
                                <span class="comment">//if (foundBR) {</span>
                                <span class="comment">//      instruction *newIns = setupNewIns(ins, tempReg, cycle);</span>
                                <span class="comment">//      tempReg--;</span>
                                <span class="comment">//      inList-&gt;InsertAt(newIns, i+1);</span>
                                <span class="comment">//}</span>
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da5c97a00bfd8be44565f64bcad8c179e2">MEM</a>) {
                                rootMEMins-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ins);
                                rootInsIndx-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(i);
                                <span class="comment">//Inject new instructions</span>
                                <span class="comment">//if (foundBR) {</span>
                                <span class="comment">//      instruction *newIns = setupNewIns(ins, tempReg, cycle);</span>
                                <span class="comment">//      tempReg--;</span>
                                <span class="comment">//      inList-&gt;InsertAt(newIns, i+1);</span>
                                <span class="comment">//}</span>
                        } <span class="keywordflow">else</span> {
                                printf(<span class="stringliteral">&quot;WARNING: THERE IS A PROBLEM2!\n&quot;</span>);
                                exit(1);
                        }
                }
        }
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> = rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> &gt;= 0; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>--) {
                <span class="keywordtype">int</span> indx = rootInsIndx-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
                inList-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(indx);
                rootInsIndx-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
        }
        <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() == 0);
        <a class="code" href="classvliwScheduler.html#aa7078d3900e7edcb82304e988339d33a">sortLists</a>(rootALUins,rootMEMins, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting, -1);
        <span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>=0;
        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="global_2global_8h.html#a4a4773240b23b3c7219797559cc98925">NUM_MEM_UNIT</a> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a32e2f2aa8991ac0d69ce22e728bdea4d">printToFile</a>(<a class="code" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>, UPLDhoisting);<span class="comment">//if UPLD hoisting is active, so are missRates</span>
                outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="keywordflow">if</span> (UPLDhoisting == <span class="keyword">true</span> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a7f04521e22bec22c519fdc44d7c8b83a">getMissrate</a>() &gt; <a class="code" href="bkEnd_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>) {
                        rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[2]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> {
                        rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[0]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                }
                rootMEMins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
        }
        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="global_2global_8h.html#a5d4d2133e24ac445ed1b4ff8ae82c6bf">NUM_ALU_UNIT</a> &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a32e2f2aa8991ac0d69ce22e728bdea4d">printToFile</a>(<a class="code" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>, UPLDhoisting);<span class="comment">//if UPLD hoisting is active, so are missRates</span>
                outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#a753d700110906067fd49977b974bf796">FPU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da60a57eed407e7df8eb3bf49f61a042c1">BR</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="global_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da52a9b031766fa116251f70e65a84c01a">ASSIGN</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="global_2global_8h.html#abfcb459618e5f604d1a73a5f1884cb8e">ASSIGN_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                }
                rootALUins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
        }
        <a class="code" href="classvliwScheduler.html#aae6254bfac1e348447643a0dec8cbf03">completeIns</a> (<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>,outListTemp, <span class="keyword">true</span>);
        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 220 || rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 220)
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">else</span>
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aab01a955d85779eeeddb36cf921e8e80"></a><!-- doxytag: member="vliwScheduler::scheduleInsStream_1FU" ref="aab01a955d85779eeeddb36cf921e8e80" args="(List&lt; instruction * &gt; *inList, int cycle, bool UPLDhoisting, FILE *reScheduleFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vliwScheduler::scheduleInsStream_1FU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>inList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>reScheduleFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                                                        {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>(); i++) {
                <a class="code" href="classinstruction.html">instruction</a>* ins = inList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(i);
                <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ins);
                        rootInsIndx-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(i);
                }
        }
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> = rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a> &gt;= 0; <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>--) {
                <span class="keywordtype">int</span> indx = rootInsIndx-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
                inList-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(indx);
                rootInsIndx-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(<a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>);
        }
        <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(rootInsIndx-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() == 0);
        <a class="code" href="classvliwScheduler.html#afa9961197e83bf8ac47cc7f15232b70c">findMostCritIns</a>(rootALUins, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
        <span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>=0;
        <span class="keywordflow">for</span> (j = 0; j &lt; 1 &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a32e2f2aa8991ac0d69ce22e728bdea4d">printToFile</a>(<a class="code" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>, UPLDhoisting);<span class="comment">//if UPLD hoisting is active, so are missRates</span>
                outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da5c97a00bfd8be44565f64bcad8c179e2">MEM</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[0]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#a753d700110906067fd49977b974bf796">FPU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> {
                        <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a> || 
                               rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a> || 
                               rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da5c97a00bfd8be44565f64bcad8c179e2">MEM</a>);
                }
                rootALUins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
        }
        <a class="code" href="classvliwScheduler.html#aae6254bfac1e348447643a0dec8cbf03">completeIns</a> (<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>,outListTemp,<span class="keyword">true</span>);
        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 220)
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">else</span>
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5abce2c71dce559d07f8f5de8f04c146"></a><!-- doxytag: member="vliwScheduler::schedulePhraseinsStream" ref="a5abce2c71dce559d07f8f5de8f04c146" args="(List&lt; instruction * &gt; *inList, int cycle, bool UPLDhoisting, FILE *reScheduleFile, float unpredMemOpThreshold, List&lt; phrase * &gt; *phList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vliwScheduler::schedulePhraseinsStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>inList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>reScheduleFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>unpredMemOpThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classphrase.html">phrase</a> * &gt; *&#160;</td>
          <td class="paramname"><em>phList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                                                                                                             {
        <span class="comment">//bool foundBR = false;</span>
        <span class="comment">//static int tempReg = -100;</span>
        <span class="keywordflow">if</span> (phID == -1) {
                phID = 1;
                <a class="code" href="classphrase.html">phrase</a>* ph = <span class="keyword">new</span> <a class="code" href="classphrase.html">phrase</a>(phID);
                phList-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ph);
        }
        <span class="comment">//for (int i = 0; i &lt; inList-&gt;NumElements(); i++) {</span>
        <span class="comment">//      instruction* ins = inList-&gt;Nth(i);</span>
        <span class="comment">//      if (foundBR == false &amp;&amp; ins-&gt;getType() == BR &amp;&amp; ins-&gt;isReady(cycle) == false) {foundBR = true;}</span>
        <span class="comment">//      if (ins-&gt;isReady(cycle) == true) {</span>
        <span class="comment">//              if (ins-&gt;getType() == ALU || ins-&gt;getType() == FPU || ins-&gt;getType() == BR || ins-&gt;getType() == ASSIGN) {</span>
        <span class="comment">//                      rootALUins-&gt;Append(ins);</span>
        <span class="comment">//                      rootInsIndx-&gt;Append(i);</span>
        <span class="comment">//                      //Inject new instructions</span>
        <span class="comment">//                      if (foundBR == true) {</span>
        <span class="comment">//                              instruction *newIns = setupNewIns(ins, tempReg, cycle);</span>
        <span class="comment">//                              tempReg--;</span>
        <span class="comment">//                              inList-&gt;InsertAt(newIns, i+1);</span>
        <span class="comment">//                      }</span>
        <span class="comment">//              } else if (ins-&gt;getType() == MEM) {</span>
        <span class="comment">//                      rootMEMins-&gt;Append(ins);</span>
        <span class="comment">//                      rootInsIndx-&gt;Append(i);</span>
        <span class="comment">//                      //Inject new instructions</span>
        <span class="comment">//                      if (foundBR == true) {</span>
        <span class="comment">//                              instruction *newIns = setupNewIns(ins, tempReg, cycle);</span>
        <span class="comment">//                              tempReg--;</span>
        <span class="comment">//                              inList-&gt;InsertAt(newIns, i+1);</span>
        <span class="comment">//                      }</span>
        <span class="comment">//              } else {</span>
        <span class="comment">//                      printf(&quot;WARNING: THERE IS A PROBLEM3!\n&quot;);</span>
        <span class="comment">//                      exit(1);</span>
        <span class="comment">//              }</span>
        <span class="comment">//      }</span>
        <span class="comment">//      //if (ins-&gt;getType() == BR) break; //Avoid useless iterations - TODO must use it in different vliw-scheduler funcs</span>
        <span class="comment">//}</span>
        <span class="comment">//for (int j = rootInsIndx-&gt;NumElements()-1; j &gt;= 0; j--) {</span>
        <span class="comment">//      int indx = rootInsIndx-&gt;Nth(j);</span>
        <span class="comment">//      inList-&gt;RemoveAt(indx);</span>
        <span class="comment">//      rootInsIndx-&gt;RemoveAt(j);</span>
        <span class="comment">//}</span>
        <span class="comment">//Assert(rootInsIndx-&gt;NumElements() == 0);</span>
        <a class="code" href="classvliwScheduler.html#aa7078d3900e7edcb82304e988339d33a">sortLists</a>(rootALUins,rootMEMins, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting, -1);
        <span class="keywordtype">int</span> <a class="code" href="uop__gen_8cpp.html#ab4f6b3aed51d8a9b2ada1ad5390fb569">j</a>=0;
        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="global_2global_8h.html#a4a4773240b23b3c7219797559cc98925">NUM_MEM_UNIT</a> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                <span class="keywordflow">if</span> (rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a2a1e30e887dabbb7b60cc71a1d466105">getNumMemRdAncestors</a>() &gt; 0) {<span class="comment">//check for immediate UPLD ops</span>
                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a2a1e30e887dabbb7b60cc71a1d466105">getNumMemRdAncestors</a>(); i++) {
                                <span class="keywordflow">if</span> (phID &lt;= rootMEMins-&gt;Nth(0)-&gt;getNthMemRdAncestor(i)-&gt;getMyPhraseID()) {
                                        <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(phID == rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ade9345ce46d71d566971798ea924a325">getNthMemRdAncestor</a>(i)-&gt;<a class="code" href="classinstruction.html#a5047f83c94ed37bcae844d295ba0e6e4">getMyPhraseID</a>());
                                        phID++; <span class="comment">// = rootMEMins-&gt;Nth(0)-&gt;getNthMemRdAncestor(i)-&gt;getMyPhraseID() + 1;</span>
                                        <a class="code" href="classphrase.html">phrase</a>* ph = <span class="keyword">new</span> <a class="code" href="classphrase.html">phrase</a>(phID);
                                        phList-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ph);
                                }
                        }
                }
                <span class="comment">//If ther is an older BR op, inject a new ins</span>
                <span class="comment">//if (rootMEMins-&gt;Nth(0)-&gt;getNumBrAncestors() &gt; 0 &amp;&amp; rootMEMins-&gt;Nth(0)-&gt;getType() != BR &amp;&amp; rootMEMins-&gt;Nth(0)-&gt;getMemType() != WRITE &amp;&amp; rootMEMins-&gt;Nth(0)-&gt;getType() != ASSIGN){// &amp;&amp; rootMEMins-&gt;Nth(0)-&gt;getType() != ALU) { //TODO I think this line has the bug!</span>
                <span class="keywordflow">if</span> (rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a5ec270309f416ce62db5ea8e6478819d">getBrMode</a>() == <a class="code" href="global_2global_8h.html#a01e05efee3068c759b10b6181a6065e1aedd88c856817307aed7b4cb376427817">scheduleBr</a> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#aea5ab3c5f62740194e3bc9d3335676a2">getNumBrAncestors</a>() &gt; 0 &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a8051847b8731d697107d682564a7385f">getMemType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a94b8423a23b95a7adac22848b81e7c0cacb9be765f361bb7efb9073730aac92c6">READ</a> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a7f04521e22bec22c519fdc44d7c8b83a">getMissrate</a>() &gt; <a class="code" href="bkEnd_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>) { <span class="comment">//TODO I think this line has the bug!</span>
                        <a class="code" href="classvliwScheduler.html#adc49e9c2b4208f4bf4fe3d1a465e409b">injectIns</a>(rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="comment">//} else {</span>
                <span class="comment">//      printf(&quot;ERROR: Invalid dependency chanin detected. Aborting...\n&quot;);</span>
                <span class="comment">//      exit(-1);</span>
                }
                rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a9cf32c7fceaedc65fc68fc8711eef824">setMyPhraseID</a>(phID);
                phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(phList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1)-&gt;addToPhrase_Light(rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="keywordflow">if</span> (UPLDhoisting == <span class="keyword">true</span> &amp;&amp; rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a7f04521e22bec22c519fdc44d7c8b83a">getMissrate</a>() &gt; <a class="code" href="bkEnd_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>) {
                        rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[2]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> {
                        rootMEMins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="bkEnd_8cpp.html#abca2f358bc2b145a7d9fbb9395ad9c89">cacheLat</a>[0]-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                }
                rootMEMins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                <span class="keywordflow">if</span> (phList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 4) {<span class="comment">//Keep the three most outstanding phrases</span>
                        <span class="keywordflow">if</span> (phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;isPhraseComplete() == <span class="keyword">true</span>) {
                                phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;printToFilePhrase(<a class="code" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>);
                                <span class="keywordtype">int</span> size = phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getPhraseSize_unsort();
                                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = size-1; k &gt;= 0; k--) {
                                        <span class="keywordflow">if</span> (phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;Nth(k)-&gt;getMissrate() &gt; <a class="code" href="bkEnd_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>) 
                                                phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;Nth(k)-&gt;notifyDepICommited();
                                        <span class="keyword">delete</span> phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;Nth(k);
                                        phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;RemoveAt(k);
                                }
                                <span class="keyword">delete</span> phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0);
                                phList-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                        }
                }
        }
        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="global_2global_8h.html#a5d4d2133e24ac445ed1b4ff8ae82c6bf">NUM_ALU_UNIT</a> &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0; j++) {
                <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a2a1e30e887dabbb7b60cc71a1d466105">getNumMemRdAncestors</a>() &gt; 0) {<span class="comment">//check for immediate UPLD ops</span>
                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a2a1e30e887dabbb7b60cc71a1d466105">getNumMemRdAncestors</a>(); i++) {
                                <span class="keywordflow">if</span> (phID &lt;= rootALUins-&gt;Nth(0)-&gt;getNthMemRdAncestor(i)-&gt;getMyPhraseID()) {
                                        <a class="code" href="backend_2utility_8h.html#aab1e54dcc40192f9704e8b252635450f">Assert</a>(phID == rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ade9345ce46d71d566971798ea924a325">getNthMemRdAncestor</a>(i)-&gt;<a class="code" href="classinstruction.html#a5047f83c94ed37bcae844d295ba0e6e4">getMyPhraseID</a>());
                                        phID++; <span class="comment">// = rootALUins-&gt;Nth(0)-&gt;getNthMemRdAncestor(i)-&gt;getMyPhraseID() + 1;</span>
                                        <a class="code" href="classphrase.html">phrase</a>* ph = <span class="keyword">new</span> <a class="code" href="classphrase.html">phrase</a>(phID);
                                        phList-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(ph);
                                }
                        }
                }
                <span class="comment">//If ther is an older BR op, inject a new ins</span>
                <span class="comment">//if (rootALUins-&gt;Nth(0)-&gt;getNumBrAncestors() &gt; 0 &amp;&amp; rootALUins-&gt;Nth(0)-&gt;getType() != BR &amp;&amp; rootALUins-&gt;Nth(0)-&gt;getMemType() != WRITE &amp;&amp; rootALUins-&gt;Nth(0)-&gt;getType() != ASSIGN){// &amp;&amp; rootALUins-&gt;Nth(0)-&gt;getType() != ALU) { //TODO I think this line has the bug!</span>
                <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a5ec270309f416ce62db5ea8e6478819d">getBrMode</a>() == <a class="code" href="global_2global_8h.html#a01e05efee3068c759b10b6181a6065e1aedd88c856817307aed7b4cb376427817">scheduleBr</a> &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#aea5ab3c5f62740194e3bc9d3335676a2">getNumBrAncestors</a>() &gt; 0 &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a8051847b8731d697107d682564a7385f">getMemType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a94b8423a23b95a7adac22848b81e7c0cacb9be765f361bb7efb9073730aac92c6">READ</a> &amp;&amp; rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a7f04521e22bec22c519fdc44d7c8b83a">getMissrate</a>() &gt; <a class="code" href="bkEnd_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>) { <span class="comment">//TODO I think this line has the bug!</span>
                        <a class="code" href="classvliwScheduler.html#adc49e9c2b4208f4bf4fe3d1a465e409b">injectIns</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="comment">//} else {</span>
                <span class="comment">//      printf(&quot;ERROR: Invalid dependency chanin detected. Aborting...\n&quot;);</span>
                <span class="comment">//      exit(-1);</span>
                }
                rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a9cf32c7fceaedc65fc68fc8711eef824">setMyPhraseID</a>(phID);
                phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(phList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1)-&gt;addToPhrase_Light(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                outListTemp-&gt;<a class="code" href="classList.html#a473190098e38206d0125b0737245e613">Append</a>(rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2daf6ae22069d0427bb2d19adad213f2b35">ALU</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da4f863252f6ab44c188966c1aebb9928a">FPU</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#a753d700110906067fd49977b974bf796">FPU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da60a57eed407e7df8eb3bf49f61a042c1">BR</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="binaryTranslator_2global_8h.html#aeb4d8089eb3260321096eb086103e7db">ALU_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#a47623362d505a662b974624f81288389">getType</a>() == <a class="code" href="global_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da52a9b031766fa116251f70e65a84c01a">ASSIGN</a>) {
                        rootALUins-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a82caa8282f7fac495d2a1b7c47f99bd2">execute</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, <a class="code" href="global_2global_8h.html#abfcb459618e5f604d1a73a5f1884cb8e">ASSIGN_LATENCY</a>-1); <span class="comment">//excute state has no meaning here (just an internal setting)</span>
                }
                rootALUins-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                <span class="keywordflow">if</span> (phList-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 4) {
                        <span class="keywordflow">if</span> (phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;isPhraseComplete() == <span class="keyword">true</span>) {
                                phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;printToFilePhrase(<a class="code" href="bkEnd_8cpp.html#a0e5f51d6a6b1d82437b223b600c984c2">reScheduleFile</a>);
                                <span class="keywordtype">int</span> size = phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getPhraseSize_unsort();
                                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = size-1; k &gt;= 0; k--) {
                                        <span class="keywordflow">if</span> (phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;Nth(k)-&gt;getMissrate() &gt; <a class="code" href="bkEnd_8cpp.html#a88cfebd9f1e296c291bf05c5a78a6177">unpredMemOpThreshold</a>) 
                                                phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;Nth(k)-&gt;notifyDepICommited();
                                        <span class="keyword">delete</span> phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;Nth(k);
                                        phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;getInsList_unsort()-&gt;RemoveAt(k);
                                }
                                <span class="keyword">delete</span> phList-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0);
                                phList-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
                        }
                }
        }
        <a class="code" href="classvliwScheduler.html#aae6254bfac1e348447643a0dec8cbf03">completeIns</a> (<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>,outListTemp, <span class="keyword">false</span>);
        <span class="keywordflow">if</span> (rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 220 || rootMEMins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 220)
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">else</span>
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd1ec0df4e12e892ef2e1d6cd5a1ad3c"></a><!-- doxytag: member="vliwScheduler::setupNewIns" ref="afd1ec0df4e12e892ef2e1d6cd5a1ad3c" args="(instruction *ins, int cycle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinstruction.html">instruction</a> * vliwScheduler::setupNewIns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinstruction.html">instruction</a> *&#160;</td>
          <td class="paramname"><em>ins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                   {
        <a class="code" href="classinstruction.html">instruction</a>* newIns = <span class="keyword">new</span> <a class="code" href="classinstruction.html">instruction</a>;
        newIns-&gt;<a class="code" href="classinstruction.html#ad9c7d979b5f4b00189973e47caa3411f">setType</a>(<a class="code" href="global_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2da52a9b031766fa116251f70e65a84c01a">ASSIGN</a>);
        newIns-&gt;<a class="code" href="classinstruction.html#a3ad74e598e69178490590655303466a1">setInsID</a>(ins-&gt;<a class="code" href="classinstruction.html#a0856c8a7411c298a51cd8d8d5e2f8b12">getInsID</a>());
        newIns-&gt;<a class="code" href="classinstruction.html#ac39145295a94852d0a3efe8c8247473d">setInsAddr</a>(ins-&gt;<a class="code" href="classinstruction.html#ac1fabe854c85726785052c7a5ebf6d39">getInsAddr</a>());
        newIns-&gt;<a class="code" href="classinstruction.html#a331fb003e92ca7a8b86d95157ecbd122">setPiepelineLat</a>(<a class="code" href="global_2global_8h.html#abfcb459618e5f604d1a73a5f1884cb8e">ASSIGN_LATENCY</a>);
        newIns-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a3431726ea599b45a86b0849ca2a303ff">FETCH</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, -1);
        newIns-&gt;<a class="code" href="classinstruction.html#ab4b1bbe98c775d3a1fab0ed281a4ad4f">setStatus</a>(<a class="code" href="global_2global_8h.html#a015eb90e0de9f16e87bd149d4b9ce959a3431726ea599b45a86b0849ca2a303ff">FETCH</a>, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, -1);
        newIns-&gt;<a class="code" href="classinstruction.html#ad7dcd18feb686b41ab57e15e00cf04a6">setBrMode</a>(<a class="code" href="global_2global_8h.html#a01e05efee3068c759b10b6181a6065e1aedd88c856817307aed7b4cb376427817">scheduleBr</a>);
        newIns-&gt;<a class="code" href="classinstruction.html#a21509e081fdfd3665c30d1bab3e1fd45">setReadyLists</a>(rootALUins, rootMEMins);
        newIns-&gt;<a class="code" href="classinstruction.html#ab2079e0fa9269a24ae4597eaaad67918">setVliwScheduler</a>(<span class="keyword">this</span>);
        <span class="comment">//Setup Registers</span>
        ins-&gt;<a class="code" href="classinstruction.html#a8ef95c2bb6b131c4ce3f33cfc124c748">updateDepTableEntris</a>(<a class="code" href="bkEnd_8cpp.html#ab1dae06b10269a1b683512c8ecb25def">depTables</a>, <a class="code" href="bkEnd_8cpp.html#a617ce1763c0446f48a6d3a158d507f46">coreType</a>, newIns);
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = ins-&gt;<a class="code" href="classinstruction.html#af64e1265e882da7e152bd47cb7794c3b">getNumReg</a>()-1; i &gt;= 0; i--) {
                <span class="comment">//Transfer write registers</span>
                <span class="keywordflow">if</span> (ins-&gt;<a class="code" href="classinstruction.html#a9701f53aafaf1b2298378665059cef33">getNthRegType</a>(i) == <a class="code" href="binaryTranslator_2global_8h.html#a94b8423a23b95a7adac22848b81e7c0ca61aa7ff70b76bff0fda378cf61d6afbc">WRITE</a>) {
                        <span class="keywordtype">long</span> <span class="keywordtype">int</span> temp1 = ins-&gt;<a class="code" href="classinstruction.html#a54412da0ee022e05101d4fb92ee879b9">getNthReg</a>(i);
                        <span class="keywordtype">int</span> temp2 = ins-&gt;<a class="code" href="classinstruction.html#a9701f53aafaf1b2298378665059cef33">getNthRegType</a>(i);
                        newIns-&gt;<a class="code" href="classinstruction.html#a456de8aa26ff79d2b7cd203f7c59f2cb">setRegister</a>(&amp;temp1, &amp;temp2);
                        ins-&gt;<a class="code" href="classinstruction.html#aabb46003e886f87cd3bc918f05a3682f">removeNthRegister</a>(i);
                }
                <span class="comment">//Create register dependency link between ins &amp; newIns </span>
                <span class="keywordtype">int</span> <a class="code" href="binaryTranslator_2global_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> = <a class="code" href="binaryTranslator_2global_8h.html#a94b8423a23b95a7adac22848b81e7c0ca61aa7ff70b76bff0fda378cf61d6afbc">WRITE</a>;
                ins-&gt;<a class="code" href="classinstruction.html#a456de8aa26ff79d2b7cd203f7c59f2cb">setRegister</a>(&amp;tempReg, &amp;type);
                type = <a class="code" href="binaryTranslator_2global_8h.html#a94b8423a23b95a7adac22848b81e7c0cacb9be765f361bb7efb9073730aac92c6">READ</a>;
                newIns-&gt;<a class="code" href="classinstruction.html#a456de8aa26ff79d2b7cd203f7c59f2cb">setRegister</a>(&amp;tempReg, &amp;type);
        }
        <span class="comment">//Setup Dependencies</span>
        <span class="keywordflow">while</span>(ins-&gt;<a class="code" href="classinstruction.html#aea5ab3c5f62740194e3bc9d3335676a2">getNumBrAncestors</a>() &gt; 0) {
                newIns-&gt;<a class="code" href="classinstruction.html#aee7e55cf32812b46267a22bcb53da670">setAsAncestor</a>(ins-&gt;<a class="code" href="classinstruction.html#a3956b91225afe4381adb46e8630df104">getNthBrAncestor</a>(0));
                newIns-&gt;<a class="code" href="classinstruction.html#a508aeb795698276978932acb2d81cfe2">setAsBrAncestor</a>(ins-&gt;<a class="code" href="classinstruction.html#a3956b91225afe4381adb46e8630df104">getNthBrAncestor</a>(0));
                newIns-&gt;<a class="code" href="classinstruction.html#aeb756cec429aca99a341f069df268465">addDep</a>();
                ins-&gt;<a class="code" href="classinstruction.html#a3956b91225afe4381adb46e8630df104">getNthBrAncestor</a>(0)-&gt;<a class="code" href="classinstruction.html#ab2ba6828f1256186a787d933a6ca0868">setAsDependent</a>(newIns);
                ins-&gt;<a class="code" href="classinstruction.html#a3956b91225afe4381adb46e8630df104">getNthBrAncestor</a>(0)-&gt;<a class="code" href="classinstruction.html#acf0ac8f3266fa128a76b3b287e2d305d">delBrDependent</a>(ins);
                ins-&gt;<a class="code" href="classinstruction.html#a3956b91225afe4381adb46e8630df104">getNthBrAncestor</a>(0)-&gt;<a class="code" href="classinstruction.html#af3e4f5b3744955fa671e22f75da8b0a5">setAsBrDependent</a>(newIns);
                ins-&gt;<a class="code" href="classinstruction.html#a335a34cb7652d3f3c6f63c011dd10185">delNthBrAncestor</a>(0);
        }
        ins-&gt;<a class="code" href="classinstruction.html#a229c73b0e852f8b2ab3617b4bc4cb988">notifyDepICommited</a>();
        ins-&gt;<a class="code" href="classinstruction.html#a6308dc145beb4a8ee6ccace0ed9f8cdd">notifyAllDepICompleted_light</a>();
        <span class="keywordflow">while</span>(ins-&gt;<a class="code" href="classinstruction.html#ad1af63e7f1bfa160b0719027c2a0b8ce">getDependents</a>()-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>() &gt; 0) {
                newIns-&gt;<a class="code" href="classinstruction.html#ab2ba6828f1256186a787d933a6ca0868">setAsDependent</a>(ins-&gt;<a class="code" href="classinstruction.html#ad1af63e7f1bfa160b0719027c2a0b8ce">getDependents</a>()-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0));
                ins-&gt;<a class="code" href="classinstruction.html#ad1af63e7f1bfa160b0719027c2a0b8ce">getDependents</a>()-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#aee7e55cf32812b46267a22bcb53da670">setAsAncestor</a>(newIns);
                ins-&gt;<a class="code" href="classinstruction.html#ad1af63e7f1bfa160b0719027c2a0b8ce">getDependents</a>()-&gt;<a class="code" href="classList.html#a5eb964816de33c85e1d46658ddf8c6c4">Nth</a>(0)-&gt;<a class="code" href="classinstruction.html#aeb756cec429aca99a341f069df268465">addDep</a>();
                ins-&gt;<a class="code" href="classinstruction.html#ad1af63e7f1bfa160b0719027c2a0b8ce">getDependents</a>()-&gt;<a class="code" href="classList.html#af17f72d263f90d53ea8501b5b1853470">RemoveAt</a>(0);
        }
        <span class="keywordflow">if</span> (newIns-&gt;<a class="code" href="classinstruction.html#a8d938a7c74c2bd36d0e5565cf933d9d5">isRepeated</a>(ins, newIns-&gt;<a class="code" href="classinstruction.html#ac1dd06cf09542ab004237f1dddd1da02">_ancestors</a>) == <span class="keyword">false</span>) {
                newIns-&gt;<a class="code" href="classinstruction.html#aee7e55cf32812b46267a22bcb53da670">setAsAncestor</a>(ins);
                newIns-&gt;<a class="code" href="classinstruction.html#aeb756cec429aca99a341f069df268465">addDep</a>();
        }
        ins-&gt;<a class="code" href="classinstruction.html#ab2ba6828f1256186a787d933a6ca0868">setAsDependent</a>(newIns);
        newIns-&gt;<a class="code" href="classinstruction.html#aed4714151da7fbcbe65485e5699cd72c">findPhraseAncestors</a>();
        newIns-&gt;<a class="code" href="classinstruction.html#adc61c4f03b740668fa8bf4b3e213f8f3">setCmdStr</a>(<span class="stringliteral">&quot;T, &quot;</span>); <span class="comment">//TODO incomplete</span>
        <span class="keywordflow">if</span> (newIns-&gt;<a class="code" href="classinstruction.html#a3d3c5926b3f74fa012e77011f6d65a57">isReady</a>(<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>) == <span class="keyword">true</span>) newIns-&gt;<a class="code" href="classinstruction.html#ae98b3fc0943715a103b91ab8bf272758">goToReadyList</a>(); <span class="comment">//Catch root instructions</span>
        tempReg--;
        <span class="keywordflow">return</span> newIns;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa7078d3900e7edcb82304e988339d33a"></a><!-- doxytag: member="vliwScheduler::sortLists" ref="aa7078d3900e7edcb82304e988339d33a" args="(List&lt; instruction * &gt; *rootALUins, List&lt; instruction * &gt; *rootMEMins, int cycle, bool UPLDhoisting, long int phraseID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vliwScheduler::sortLists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>rootALUins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classList.html">List</a>&lt; <a class="el" href="classinstruction.html">instruction</a> * &gt; *&#160;</td>
          <td class="paramname"><em>rootMEMins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>UPLDhoisting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>phraseID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                                                                                                             {
        <a class="code" href="backend_2quickSort_8cpp.html#a66562f93931014b21470273beafbc0e4">quicksortLongestPathDyanmic</a>(rootALUins,0,rootALUins-&gt;<a class="code" href="classList.html#ac2e9d50f703b01bf643fa6ce50837c26">NumElements</a>()-1,<a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
        <span class="comment">//findMostCritIns(rootALUins, cycle, UPLDhoisting); //TODO this line must be replaced wth the line above when the 1ALU unit process is done</span>
        <a class="code" href="classvliwScheduler.html#afa9961197e83bf8ac47cc7f15232b70c">findMostCritIns</a>(rootMEMins, <a class="code" href="bkEnd_8cpp.html#a24ddb63d7b594cb1489ae68dfa66e584">cycle</a>, UPLDhoisting);
        <span class="comment">//rootSize += rootMEMins-&gt;NumElements();</span>

        <span class="comment">//printf(&quot;\n&quot;);</span>
        <span class="comment">//for (int i = 0; i &lt; rootALUins-&gt;NumElements(); i++)</span>
        <span class="comment">//      printf(&quot;%d, &quot;,rootALUins-&gt;Nth(i)-&gt;findLongestPath(rootALUins-&gt;Nth(i)-&gt;getInsID()), UPLDhoisting);</span>
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/milad/esc_project/svn/PARS/src/backend/<a class="el" href="vliwScheduler_8h_source.html">vliwScheduler.h</a></li>
<li>/home/milad/esc_project/svn/PARS/src/backend/<a class="el" href="vliwScheduler_8cpp.html">vliwScheduler.cpp</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 18 2014 for PhArS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
